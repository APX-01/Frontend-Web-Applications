<div class="group-details-container">
    @if (isLoading) {
        <p>Loading group details...</p>
    } @else {
        <mat-card>
            <mat-card-header>
                <mat-card-title>{{ group.name }}</mat-card-title>
                <mat-card-subtitle>Group Details</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <p><strong>Description:</strong> {{ group.description }}</p>
                <p>Puntaje total en este grupo: {{userGroupProfile.score}}</p>

                <!-- Añadir lista de challenges aquí -->
                <app-challenge-list [currentGroupId]="group.id"></app-challenge-list>

            </mat-card-content>

            <mat-card-actions>
                <button mat-raised-button routerLink="/home">Back to Groups</button>
                <button mat-raised-button [routerLink]="['/group/members', group.id]">See Members</button>
                <div class="button-spacer"></div>
                @if (user.role == "teacher") {
                    <button mat-flat-button class="leave-button" (click)="deleteGroup()" routerLink="/home" >Delete Group</button>
                } @else {
                    <button mat-flat-button class="leave-button" (click)="leaveGroup()" routerLink="/home">Leave Group</button>
                }
            </mat-card-actions>
        </mat-card>
    }
</div>